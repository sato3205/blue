/* @theme ai_friendly */
@size 16:9;

/* ---------- imports ---------- */
@import 'gaia';
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap');

/* ---------- variables ---------- */
:root{
  /* 学会向けの濃い青 */
  --primary: #2f54eb;
  --primary-dark: #1d39c4;
  --primary-light: rgba(47,84,235,.10);

  --background:#ffffff;
  --text-primary:#0f172a;
  --text-secondary:#475569;
  --text-inverse:#ffffff;
  --border-light:#e2e8f0;

  --font-base:'Noto Sans JP', system-ui, -apple-system, sans-serif;
  --font-code:'Source Code Pro', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;

  /* レイアウト */
  --pad-x:40px;              /* 左右の本文余白 */
  --bar-height:56px;         /* 見出しバーの高さ */
  --content-bottom:40px;     /* 下余白 */
}

/* ---------- slide base ---------- */
section{
  position:relative;
  font-family:var(--font-base);
  color:var(--text-primary);
  background:var(--background);
  background-image:none;

  /* 本文は “上バーの分だけ” 下げる（h2/h3バーと衝突しない） */
  padding: calc(var(--bar-height) + 12px) var(--pad-x) var(--content-bottom);
}

/* ページ番号 */
section::after{
  content: attr(data-marpit-pagination) "/" attr(data-marpit-pagination-total);
  color:var(--text-secondary);
  font-weight:700;
}

/* ---------- H2: 上端バー（白帯なし） ---------- */
section > h2{
  position:absolute;
  top:0; left:0; right:0;
  height:var(--bar-height);
  display:flex; align-items:center;

  padding: 0 var(--pad-x);
  margin:0 !important;

  background:var(--primary);
  color:var(--text-inverse);
  font-weight:700;
  font-size:1.05em;
  z-index:2;
}

/* ---------- H3: 左帯付き小見出し ---------- */
section > h3{
  margin: .6em 0 .4em;
  padding-left: .6em;
  border-left: 12px solid var(--primary);
  color: var(--primary);
  font-size: 1.0em;
}

/* ---------- フォールバック：h2 が無いスライドでは最初の h3 を上バー化 ---------- */
/* Chromium（VS Code のプレビュー）で :has() が使える前提 */
section:not(:has(> h2)) { padding-top: calc(var(--bar-height) + 12px); }

section:not(:has(> h2)) > h3:first-of-type{
  position:absolute;
  top:0; left:0; right:0;
  height:var(--bar-height);
  display:flex; align-items:center;

  margin:0 !important;
  padding:0 var(--pad-x);

  background:var(--primary);
  color:var(--text-inverse);
  border-left:none;
  font-weight:700;
  z-index:2;
}

/* ---------- その他要素 ---------- */
blockquote{
  margin: .8em 0;
  padding: .6em .9em;
  border-left: 6px solid var(--primary);
  background: var(--primary-light);
}

code{ font-family:var(--font-code); background:#f1f5f9; padding:.12em .35em; border-radius:4px; }
pre{
  font-family:var(--font-code);
  background:#0f172a; color:#e5e7eb;
  padding:.8em 1.1em; border-radius:8px;
  overflow:auto; border:1px solid #334155;
}

/* タイトル（h1）は中央寄せのままに */
section > h1{
  text-align:center;
  color:var(--primary);
}

/* 表 */
table{ width:100%; border-collapse:collapse; margin:1em 0; font-size:.95em; }
th{ background:var(--primary); color:#fff; text-align:left; padding:.5em .6em; }
td{ padding:.5em .6em; border-bottom:1px solid var(--border-light); }
tbody tr:nth-child(even) td{ background:#f8fafc; }
